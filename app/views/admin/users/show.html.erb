<div class="mx-auto w-full max-w-5xl space-y-8">
  <!-- Header -->
  <div class="mb-2 sm:mb-4">
    <h1 class="text-xl font-semibold tracking-tight text-slate-900 sm:text-2xl">
      Admin – <%= @user.email %>
    </h1>
    <p class="mt-1 text-sm text-slate-600">
      Role: <span class="font-medium text-slate-800"><%= @user.role %></span> ·
      Joined: <%= @user.created_at.to_fs(:long) %>
    </p>
    <p class="mt-1 text-xs text-slate-500">
      User ID: <%= @user.id %>
    </p>

    <div class="mt-3">
      <%= link_to "Back to users",
            admin_users_path,
            class: "inline-flex items-center text-xs font-medium text-slate-600 hover:text-slate-800 hover:underline" %>
    </div>
  </div>

  <!-- Suggested Translations -->
  <section>
    <div class="mb-3 flex items-baseline justify-between gap-3">
      <h2 class="text-sm font-semibold text-slate-900">
        Suggested Translations
      </h2>
      <p class="text-xs text-slate-500">
        <%= @suggested_translations.size %> suggestions
      </p>
    </div>

    <% if @suggested_translations.any? %>
      <div class="space-y-3">
        <% @suggested_translations.each do |s| %>
          <div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
            <p class="text-xs font-medium uppercase tracking-wide text-slate-500 mb-1">
              <%= s.source_language.name %> → <%= s.target_language.name %>
            </p>
            <p class="text-sm font-medium text-slate-900 mb-1" dir="auto">
              <%= s.source_saying_text %>
            </p>
            <p class="text-sm text-slate-800 mb-2" dir="auto">
              <%= s.target_saying_text %>
            </p>
            <p class="text-xs text-slate-500">
              Status:
              <span class="font-medium"><%= s.status %></span>
              · Submitted: <%= s.created_at.to_fs(:short) %>
            </p>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-sm text-slate-600">
        This user has not suggested any translations yet.
      </p>
    <% end %>
  </section>

  <!-- Translation Votes -->
  <section>
    <div class="mb-3 flex items-baseline justify-between gap-3">
      <h2 class="text-sm font-semibold text-slate-900">
        Translation Votes
      </h2>
      <p class="text-xs text-slate-500">
        <%= @translation_votes.size %> votes
      </p>
    </div>

    <% if @translation_votes.any? %>
      <div class="space-y-3">
        <% @translation_votes.each do |vote| %>
          <% translation = vote.saying_translation %>
          <% next unless translation %>

          <% source = translation.saying_a %>
          <% target = translation.saying_b %>

          <div class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm">
            <p class="text-xs font-medium uppercase tracking-wide text-slate-500 mb-1">
              Vote:
              <%=
                case vote.vote
                when 1 then "Upvote"
                when -1 then "Downvote"
                else "Neutral"
                end
              %>
              · Cast: <%= vote.created_at.to_fs(:short) %>
            </p>

            <% if source && target %>
              <div class="space-y-2">
                <p class="text-xs text-slate-500">Source saying</p>
                <p class="text-sm font-medium text-slate-900 bg-slate-50 rounded-xl px-3 py-2" dir="auto">
                  <%= source.text %>
                </p>

                <p class="text-xs text-slate-500 mt-2">Target saying</p>
                <p class="text-sm font-medium text-slate-900 bg-slate-50 rounded-xl px-3 py-2" dir="auto">
                  <%= target.text %>
                </p>
              </div>
            <% else %>
              <p class="text-sm text-slate-600">
                Translation record missing or incomplete.
              </p>
            <% end %>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-sm text-slate-600">
        This user hasn’t voted on any translations yet.
      </p>
    <% end %>
  </section>
</div>
